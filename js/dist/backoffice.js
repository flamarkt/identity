(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const a=flarum.core.compat["common/extend"],r=((flarum.extensions["flamarkt-backoffice"]||{}).backoffice||{})["components/UserList"];var s=t.n(r);const d=((flarum.extensions["flamarkt-backoffice"]||{}).backoffice||{})["pages/UserShowPage"];var i=t.n(d),n=function(){function t(){this.firstname="",this.lastname="",this.birthday="",this.addressStreet="",this.addressNumber="",this.addressCity="",this.addressZip="",this.addressState="",this.addressCountry=""}var e=t.prototype;return e.valuesFromUser=function(t){this.firstname=t.firstname()||"",this.lastname=t.lastname()||"",this.birthday=t.birthday()||"",this.addressStreet=t.addressStreet()||"",this.addressNumber=t.addressNumber()||"",this.addressCity=t.addressCity()||"",this.addressZip=t.addressZip()||"",this.addressState=t.addressState()||"",this.addressCountry=t.addressCountry()||""},e.data=function(){return{firstname:this.firstname,lastname:this.lastname,birthday:this.birthday,addressStreet:this.addressStreet,addressNumber:this.addressNumber,addressCity:this.addressCity,addressZip:this.addressZip,addressState:this.addressState,addressCountry:this.addressCountry}},t}();const o=flarum.core.compat["common/models/User"];var l=t.n(o);const p=flarum.core.compat["common/Model"];var u=t.n(p);app.initializers.add("flamarkt-identity",(function(){l().prototype.firstname=u().attribute("firstname"),l().prototype.lastname=u().attribute("lastname"),l().prototype.birthday=u().attribute("birthday"),l().prototype.addressStreet=u().attribute("addressStreet"),l().prototype.addressNumber=u().attribute("addressNumber"),l().prototype.addressCity=u().attribute("addressCity"),l().prototype.addressZip=u().attribute("addressZip"),l().prototype.addressState=u().attribute("addressState"),l().prototype.addressCountry=u().attribute("addressCountry"),app.extensionData.for("flamarkt-identity").registerSetting({setting:"flamarkt-identity.displayNameFormat",type:"text",label:app.translator.trans("flamarkt-identity.backoffice.settings.displayNameFormat"),placeholder:"{firstname} {lastname}"}),(0,a.extend)(s().prototype,"head",(function(t){t.add("firstname",m("th","First name")),t.add("lastname",m("th","Last name"))})),(0,a.extend)(s().prototype,"columns",(function(t,e){t.add("firstname",m("td",e.firstname())),t.add("lastname",m("td",e.lastname()))})),(0,a.override)(i().prototype,"oninit",(function(t){this.identity=new n;for(var e=arguments.length,a=new Array(e>1?e-1:0),r=1;r<e;r++)a[r-1]=arguments[r];t.apply(void 0,a)})),(0,a.extend)(i().prototype,"show",(function(t,e){this.identity.valuesFromUser(e)})),(0,a.extend)(i().prototype,"fields",(function(t){var e,a,r,s=this;e=t,a=this.identity,r=function(){s.dirty=!0},e.add("firstname",m(".Form-group",[m("label",{for:"settings-firstname"},app.translator.trans("flamarkt-identity.lib.field.firstname")),m("input.FormControl",{id:"settings-firstname",type:"text",value:a.firstname,oninput:function(t){a.firstname=t.target.value,r()}})])),e.add("lastname",m(".Form-group",[m("label",{for:"settings-lastname"},app.translator.trans("flamarkt-identity.lib.field.lastname")),m("input.FormControl",{id:"settings-lastname",type:"text",value:a.lastname,oninput:function(t){a.lastname=t.target.value,r()}})])),e.add("birthday",m(".Form-group",[m("label",{for:"settings-birthday"},app.translator.trans("flamarkt-identity.lib.field.birthday")),m("input.FormControl",{id:"settings-birthday",type:"date",value:a.birthday,oninput:function(t){a.birthday=t.target.value,r()}})])),e.add("addressStreet",m(".Form-group",[m("label",{for:"settings-addressStreet"},app.translator.trans("flamarkt-identity.lib.field.addressStreet")),m("input.FormControl",{id:"settings-addressStreet",type:"text",value:a.addressStreet,oninput:function(t){a.addressStreet=t.target.value,r()}})])),e.add("addressNumber",m(".Form-group",[m("label",{for:"settings-addressNumber"},app.translator.trans("flamarkt-identity.lib.field.addressNumber")),m("input.FormControl",{id:"settings-addressNumber",type:"text",value:a.addressNumber,oninput:function(t){a.addressNumber=t.target.value,r()}})])),e.add("addressCity",m(".Form-group",[m("label",{for:"settings-addressCity"},app.translator.trans("flamarkt-identity.lib.field.addressCity")),m("input.FormControl",{id:"settings-addressCity",type:"text",value:a.addressCity,oninput:function(t){a.addressCity=t.target.value,r()}})])),e.add("addressZip",m(".Form-group",[m("label",{for:"settings-addressZip"},app.translator.trans("flamarkt-identity.lib.field.addressZip")),m("input.FormControl",{id:"settings-addressZip",type:"text",value:a.addressZip,oninput:function(t){a.addressZip=t.target.value,r()}})])),e.add("addressState",m(".Form-group",[m("label",{for:"settings-addressState"},app.translator.trans("flamarkt-identity.lib.field.addressState")),m("input.FormControl",{id:"settings-addressState",type:"text",value:a.addressState,oninput:function(t){a.addressState=t.target.value,r()}})])),e.add("addressCountry",m(".Form-group",[m("label",{for:"settings-addressCountry"},app.translator.trans("flamarkt-identity.lib.field.addressCountry")),m("input.FormControl",{id:"settings-addressCountry",type:"text",value:a.addressCountry,oninput:function(t){a.addressCountry=t.target.value,r()}})]))})),(0,a.extend)(i().prototype,"data",(function(t){var e=this,a=this.identity.data();Object.keys(a).forEach((function(r){a[r]!==(e.user[r]()||"")&&(t[r]=a[r])}))}))}))})(),module.exports=e})();
//# sourceMappingURL=backoffice.js.map