(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e),t.d(e,{common:()=>p});const a=((flarum.extensions["flamarkt-backoffice"]||{}).backoffice||{}).app;var r=t.n(a);const s=flarum.core.compat["common/extend"],d=((flarum.extensions["flamarkt-backoffice"]||{}).backoffice||{})["components/UserList"];var i=t.n(d);const n=((flarum.extensions["flamarkt-backoffice"]||{}).backoffice||{})["pages/UserShowPage"];var o=t.n(n),l=function(){function t(){this.firstname="",this.lastname="",this.birthday="",this.addressStreet="",this.addressNumber="",this.addressCity="",this.addressZip="",this.addressState="",this.addressCountry=""}var e=t.prototype;return e.valuesFromUser=function(t){this.firstname=t.firstname()||"",this.lastname=t.lastname()||"",this.birthday=t.birthday()||"",this.addressStreet=t.addressStreet()||"",this.addressNumber=t.addressNumber()||"",this.addressCity=t.addressCity()||"",this.addressZip=t.addressZip()||"",this.addressState=t.addressState()||"",this.addressCountry=t.addressCountry()||""},e.data=function(){return{firstname:this.firstname,lastname:this.lastname,birthday:this.birthday,addressStreet:this.addressStreet,addressNumber:this.addressNumber,addressCity:this.addressCity,addressZip:this.addressZip,addressState:this.addressState,addressCountry:this.addressCountry}},t}();const u=flarum.core.compat["common/app"];var f=t.n(u);function y(t,e,a){return void 0===a&&(a={}),t.add("flamarkt-identity-firstname",m(".Form-group",[m("label",{for:"settings-firstname"},f().translator.trans("flamarkt-identity.lib.field.firstname")),m("input.FormControl",{id:"settings-firstname",type:"text",value:e.firstname,oninput:function(t){e.firstname=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-lastname",m(".Form-group",[m("label",{for:"settings-lastname"},f().translator.trans("flamarkt-identity.lib.field.lastname")),m("input.FormControl",{id:"settings-lastname",type:"text",value:e.lastname,oninput:function(t){e.lastname=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-birthday",m(".Form-group",[m("label",{for:"settings-birthday"},f().translator.trans("flamarkt-identity.lib.field.birthday")),m("input.FormControl",{id:"settings-birthday",type:"date",value:e.birthday,oninput:function(t){e.birthday=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressStreet",m(".Form-group",[m("label",{for:"settings-addressStreet"},f().translator.trans("flamarkt-identity.lib.field.addressStreet")),m("input.FormControl",{id:"settings-addressStreet",type:"text",value:e.addressStreet,oninput:function(t){e.addressStreet=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressNumber",m(".Form-group",[m("label",{for:"settings-addressNumber"},f().translator.trans("flamarkt-identity.lib.field.addressNumber")),m("input.FormControl",{id:"settings-addressNumber",type:"text",value:e.addressNumber,oninput:function(t){e.addressNumber=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressCity",m(".Form-group",[m("label",{for:"settings-addressCity"},f().translator.trans("flamarkt-identity.lib.field.addressCity")),m("input.FormControl",{id:"settings-addressCity",type:"text",value:e.addressCity,oninput:function(t){e.addressCity=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressZip",m(".Form-group",[m("label",{for:"settings-addressZip"},f().translator.trans("flamarkt-identity.lib.field.addressZip")),m("input.FormControl",{id:"settings-addressZip",type:"text",value:e.addressZip,oninput:function(t){e.addressZip=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressState",m(".Form-group",[m("label",{for:"settings-addressState"},f().translator.trans("flamarkt-identity.lib.field.addressState")),m("input.FormControl",{id:"settings-addressState",type:"text",value:e.addressState,oninput:function(t){e.addressState=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t.add("flamarkt-identity-addressCountry",m(".Form-group",[m("label",{for:"settings-addressCountry"},f().translator.trans("flamarkt-identity.lib.field.addressCountry")),m("input.FormControl",{id:"settings-addressCountry",type:"text",value:e.addressCountry,oninput:function(t){e.addressCountry=t.target.value,null==a.onchange||a.onchange()},disabled:a.disabled})])),t}var p={"states/IdentityFieldsState":l,"utils/identityFields":y};const b=flarum.core.compat["common/models/User"];var c=t.n(b);const h=flarum.core.compat["common/Model"];var g=t.n(h);r().initializers.add("flamarkt-identity",(function(){c().prototype.firstname=g().attribute("firstname"),c().prototype.lastname=g().attribute("lastname"),c().prototype.birthday=g().attribute("birthday"),c().prototype.addressStreet=g().attribute("addressStreet"),c().prototype.addressNumber=g().attribute("addressNumber"),c().prototype.addressCity=g().attribute("addressCity"),c().prototype.addressZip=g().attribute("addressZip"),c().prototype.addressState=g().attribute("addressState"),c().prototype.addressCountry=g().attribute("addressCountry"),r().extensionData.for("flamarkt-identity").registerSetting({setting:"flamarkt-identity.searchable",type:"switch",label:r().translator.trans("flamarkt-identity.backoffice.settings.searchable"),help:r().translator.trans("flamarkt-identity.backoffice.settings.searchableHelp")}).registerSetting({setting:"flamarkt-identity.displayNameFormat",type:"text",label:r().translator.trans("flamarkt-identity.backoffice.settings.displayNameFormat"),placeholder:"{firstname} {lastname}"}),(0,s.extend)(i().prototype,"head",(function(t){t.add("firstname",m("th","First name")),t.add("lastname",m("th","Last name"))})),(0,s.extend)(i().prototype,"columns",(function(t,e){t.add("firstname",m("td",e.firstname())),t.add("lastname",m("td",e.lastname()))})),(0,s.override)(o().prototype,"oninit",(function(t){this.identity=new l;for(var e=arguments.length,a=new Array(e>1?e-1:0),r=1;r<e;r++)a[r-1]=arguments[r];t.apply(void 0,a)})),(0,s.extend)(o().prototype,"show",(function(t,e){this.identity.valuesFromUser(e)})),(0,s.extend)(o().prototype,"fields",(function(t){var e=this;y(t,this.identity,{onchange:function(){e.dirty=!0},disabled:this.saving})})),(0,s.extend)(o().prototype,"data",(function(t){var e=this,a=this.identity.data();Object.keys(a).forEach((function(r){a[r]!==(e.user[r]()||"")&&(t[r]=a[r])}))}))}))})(),module.exports=e})();
//# sourceMappingURL=backoffice.js.map